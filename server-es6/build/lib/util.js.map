{"version":3,"sources":["../../server/lib/util.js"],"names":[],"mappings":";;;;;QAUgB;;;;;;;;;;;AAAT,SAAS,KAAT,CAAe,GAAf,EAAgC;MAAZ,+DAAO,mBAAK;;AACtC,SAAO,UAAC,GAAD,EAAM,KAAN,EAAgB;AACtB,QAAI,GAAJ,EAAS,OAAO,IAAI,MAAJ,CAAW,GAAX,EAAgB,IAAhB,CAAqB,GAArB,CAAP,CAAT;;AAEA,QAAI,SAAS,OAAO,MAAM,QAAN,KAAiB,UAAxB,EAAoC;AAChD,cAAQ,MAAM,QAAN,EAAR,CADgD;KAAjD;AAGA,QAAI,MAAJ,CAAW,MAAX,EAAmB,IAAnB,CAAwB,KAAxB,EANsB;GAAhB,CAD+B;CAAhC","file":"util.js","sourcesContent":["\n/**\tCreates a callback that proxies node callback style arguments to an Express Response object.\n *\t@param {express.Response} res\tExpress HTTP Response\n *\t@param {number} [status=200]\tStatus code to send on success\n *\n *\t@example\n *\t\tlist(req, res) {\n *\t\t\tcollection.find({}, toRes(res));\n *\t\t}\n */\nexport function toRes(res, status=200) {\n\treturn (err, thing) => {\n\t\tif (err) return res.status(500).send(err);\n\n\t\tif (thing && typeof thing.toObject==='function') {\n\t\t\tthing = thing.toObject();\n\t\t}\n\t\tres.status(status).json(thing);\n\t};\n}\n"]}