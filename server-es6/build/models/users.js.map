{"version":3,"sources":["../../server/models/users.js"],"names":[],"mappings":";;AAAA,IAAI,SAAS,QAAQ,sBAAR,CAAT;AACJ,IAAI,IAAI,OAAO,CAAP;AACR,IAAI,OAAO,OAAO,IAAP;;AAEX,IAAI,OAAO,OAAO,WAAP,CAAmB,MAAnB,EAA2B;AACpC,MAAI,KAAK,MAAL,EAAJ;;AAEA,QAAM,KAAK,MAAL,EAAN;AACA,OAAK,KAAK,MAAL,EAAL;AACA,aAAW,KAAK,MAAL,EAAX;AACA,QAAM,KAAK,MAAL,EAAN;AACA,aAAW,KAAK,IAAL,GAAY,OAAZ,CAAoB,EAAE,GAAF,GAAQ,WAAR,GAAsB,GAAtB,CAA0B,IAA1B,CAApB,CAAX;CAPS,CAAP;;AAUJ,OAAO,OAAP,GAAiB,IAAjB;;AAEA,IAAI,OAAO,QAAQ,SAAR,CAAP;AACJ,IAAI,MAAM,QAAQ,QAAR,CAAN;AACJ,IAAI,WAAW,QAAQ,aAAR,CAAX;;AAEJ,KAAK,OAAL,CAAa,IAAb,EAAmB,OAAnB,EAA4B,IAA5B,EAAkC,UAAlC;;AAEA,KAAK,mBAAL,CAAyB,GAAzB,EAA8B,MAA9B,EAAsC,IAAtC,EAA4C,IAA5C;;;AAGA,KAAK,OAAL,CAAa,QAAb,EAAuB,WAAvB,EAAoC,IAApC,EAA0C,QAA1C;;AAEA,KAAK,WAAL,CAAiB,WAAjB;AACA,KAAK,WAAL,CAAiB,cAAjB","file":"users.js","sourcesContent":["var thinky = require('./../utils/thinky.js')\nvar r = thinky.r\nvar type = thinky.type;\n\nvar User = thinky.createModel(\"User\", {\n  id: type.string(),\n//   email: type.string().email(),\n  name: type.string(),\n  url: type.string(),\n  avatarUrl: type.string(),\n  type: type.string(),\n  createdAt: type.date().default(r.now().toEpochTime().mul(1000)),\n});\n\nmodule.exports = User;\n\nvar Post = require('./posts')\nvar Bin = require('./bins')\nvar Reaction = require('./reactions')\n// a user has many posts\nUser.hasMany(Post, \"posts\", \"id\", \"authorId\")\n// a user has and belongs to many bins\nUser.hasAndBelongsToMany(Bin, \"bins\", \"id\", \"id\")\n\n// a user has many reactions\nUser.hasMany(Reaction, \"reactions\", \"id\", \"userId\")\n\nUser.ensureIndex(\"createdAt\");\nUser.ensureIndex(\"access_token\");\n"]}